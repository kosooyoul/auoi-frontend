{
    "title": "4차원의 세계",
    "so": {"x": 0, "y": 0},
    "actions": [
        {
            "type": "load",
            "variables": ["visited", "test"],
            "storage": "local",
            "namespace": "4d-world"
        },
        {
            "type": "wait",
            "duration": 500
        },
        {
            "type": "message",
            "message": "안녕하세요!\n여기는 4차원의 세계입니다."
        },
        {
            "type": "if",
            "name": "visited",
            "op": "eq",
            "value": true,
            "else": [
                {
                    "type": "message",
                    "message": "이런 곳 처음이시지요?\n아직 공사가 한창 진행중이랍니다. ^^"
                },
                {
                    "type": "variable",
                    "name": "visited",
                    "op": "set",
                    "value": true
                },
                {
                    "type": "save",
                    "variables": ["visited"],
                    "storage": "local",
                    "namespace": "4d-world"
                }
            ]
        },
        {
            "type": "if",
            "name": "test",
            "op": "exists",
            "else": [
                {
                    "type": "variable",
                    "name": "test",
                    "op": "set",
                    "value": 0
                }
            ]
        }
    ],
    "map": [
    {"position": {"x": -1, "y":   0, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x": -1, "y":   1, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x": -1, "y":   1, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x": -1, "y":   1, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x": -2, "y":   1, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x": -2, "y":   2, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x": -2, "y":   2, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x": -2, "y":   2, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x": -3, "y":   2, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x": -3, "y":   3, "z":  0}, "texture": {"top": "blue-top", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x": -3, "y":   3, "z": -1}, "texture": {"right": "blue-right"}, "alpha": 0.4},
    {"position": {"x": -3, "y":   4, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left"}, "effect": "prism"},
    {"position": {"x": -3, "y":   4, "z": -1}, "texture": {"left": "blue-left"}, "alpha": 0.4},
    {"position": {"x": -2, "y":   4, "z":  0}, "texture": {"top": "blue-top", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x": -2, "y":   4, "z": -1}, "texture": {"right": "blue-right"}, "alpha": 0.4},
    {"position": {"x": -2, "y":   5, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left"}, "effect": "prism"},
    {"position": {"x": -2, "y":   5, "z": -1}, "texture": {"left": "blue-left"}, "alpha": 0.4},
    {"position": {"x": -1, "y":   5, "z":  0}, "texture": {"top": "blue-top", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x": -1, "y":   5, "z": -1}, "texture": {"right": "blue-right"}, "alpha": 0.4},
    {"position": {"x": -1, "y":   6, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left"}, "effect": "prism"},
    {"position": {"x": -1, "y":   6, "z": -1}, "texture": {"left": "blue-left"}, "alpha": 0.4},
    {"position": {"x": -1, "y":   6, "z": -2}, "texture": {"left": "blue-left"}, "alpha": 0.2},
    {"position": {"x":  0, "y":   6, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left"}, "effect": "prism"},
    {"position": {"x":  0, "y":   6, "z": -1}, "texture": {"left": "blue-left"}, "alpha": 0.4},
    {"position": {"x":  0, "y":   6, "z": -2}, "texture": {"left": "blue-left"}, "alpha": 0.2},
    {"position": {"x":  1, "y":   6, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  1, "y":   6, "z": -1}, "texture": {"left": "blue-left"}, "alpha": 0.4},
    {"position": {"x":  1, "y":   6, "z": -2}, "texture": {"left": "blue-left"}, "alpha": 0.2},
    {"position": {"x":  2, "y":   6, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  2, "y":   6, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  2, "y":   6, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x":  2, "y":   5, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x":  3, "y":   5, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  3, "y":   5, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  3, "y":   5, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x":  3, "y":   4, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x":  4, "y":   4, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  4, "y":   4, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  4, "y":   4, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x":  4, "y":   3, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x":  5, "y":   3, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  5, "y":   3, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  5, "y":   3, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x":  5, "y":   2, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism", "prop": "blocks-cube", "label": "앱 조각", "description": "다운로드 없이 앱으로 설치해보세요!", "action": {
        "top": {
            "type": "pwa"
        }
    }},
    {"position": {"x":  6, "y":   2, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  6, "y":   2, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  6, "y":   2, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},
    {"position": {"x":  6, "y":   1, "z":  0}, "texture": {"top": "blue-top"}, "effect": "prism"},
    {"position": {"x":  7, "y":   1, "z":  0}, "texture": {"top": "blue-top", "left": "blue-left", "right": "blue-right"}, "effect": "prism"},
    {"position": {"x":  7, "y":   1, "z": -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  7, "y":   1, "z": -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2},

    {"position": {"x": -1, "y":  -1, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x": -1, "y":  -1, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x": -2, "y":  -1, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x": -2, "y":  -1, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x": -2, "y":  -2, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x": -2, "y":  -2, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x": -3, "y":  -2, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x": -3, "y":  -2, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x": -3, "y":  -3, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x": -3, "y":  -3, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x": -3, "y":  -4, "z":  0}, "texture": {"top": "pink-top"}, "effect": "prism"},
    {"position": {"x": -2, "y":  -4, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x": -2, "y":  -4, "z": -1}, "texture": {"left": "pink-left", "right": "pink-right"}, "alpha": 0.4},
    {"position": {"x": -2, "y":  -4, "z": -2}, "texture": {"left": "pink-left", "right": "pink-right"}, "alpha": 0.2},
    {"position": {"x": -2, "y":  -5, "z":  0}, "texture": {"top": "pink-top"}, "effect": "prism"},
    {"position": {"x": -1, "y":  -5, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x": -1, "y":  -5, "z": -1}, "texture": {"left": "pink-left", "right": "pink-right"}, "alpha": 0.4},
    {"position": {"x": -1, "y":  -5, "z": -2}, "texture": {"left": "pink-left", "right": "pink-right"}, "alpha": 0.2},
    {"position": {"x": -1, "y":  -6, "z":  0}, "texture": {"top": "pink-top"}, "effect": "prism"},
    {"position": {"x":  0, "y":  -6, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  0, "y":  -6, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  0, "y":  -6, "z": -2}, "texture": {"left": "pink-left"}, "alpha": 0.2},
    {"position": {"x":  1, "y":  -6, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  1, "y":  -6, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  2, "y":  -6, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  2, "y":  -6, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  2, "y":  -5, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  2, "y":  -5, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  3, "y":  -5, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  3, "y":  -5, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  3, "y":  -4, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  3, "y":  -4, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  4, "y":  -4, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  4, "y":  -4, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  4, "y":  -3, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  4, "y":  -3, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  5, "y":  -3, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  5, "y":  -3, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  5, "y":  -2, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  5, "y":  -2, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  6, "y":  -2, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  6, "y":  -2, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  6, "y":  -1, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left"}, "effect": "prism"},
    {"position": {"x":  6, "y":  -1, "z": -1}, "texture": {"left": "pink-left"}, "alpha": 0.4},
    {"position": {"x":  7, "y":  -1, "z":  0}, "texture": {"top": "pink-top", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  7, "y":  -1, "z": -1}, "texture": {"right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  7, "y":   0, "z":  0}, "texture": {"top": "pink-top"}, "effect": "prism", "prop": "waste", "actions": {
        "top": [
            {
                "type": "if",
                "name": "test",
                "op": "eq",
                "value": 1,
                "then": [
                    {
                        "type": "message",
                        "message": "True"
                    }
                ],
                "else": [
                    {
                        "type": "message",
                        "message": "False"
                    }
                ]
            },
            {
                "type": "variable",
                "name": "test",
                "op": "add",
                "value": 1
            },
            {
                "type": "variable",
                "name": "test",
                "op": "mod",
                "value": 2
            },
            {
                "type": "save",
                "variables": ["test"],
                "storage": "local",
                "namespace": "4d-world"
            },
            {
                "type": "function",
                "name": "reload",
                "args": "cookie"
            }
        ]
    }},
    {"position": {"x":  8, "y":   0, "z":  0}, "texture": {"top": "pink-top", "left": "pink-left", "right": "pink-right"}, "effect": "prism"},
    {"position": {"x":  8, "y":   0, "z": -1}, "texture": {"left": "pink-left", "right": "pink-right"}, "alpha": 0.4},
    {"position": {"x":  8, "y":   0, "z": -2}, "texture": {"left": "pink-left", "right": "pink-right"}, "alpha": 0.2},

    {"position": {"x":  0, "y":  0, "z":  0}, "texture": {"top": "hologram-top", "left": "blue-left", "right": "blue-right"}, "prop": "warp", "effect": "bigwarp", "label": "워프", "description": "다른 지역으로 이동할 수 있습니다.", "action": {
        "top": {
            "type": "menu",
            "menu": [
                {"title": "기억의 공간으로", "tag": "possible", "link": "#memories"},
                {"title": "잡부의 공간으로", "tag": "working", "link": "#miscellaneous"},
                {"title": "쿠키의 공간으로", "tag": "working", "link": "#cookie"},
                {"type": "separator"},
                {"title": "안내소", "tag": "working", "link": "#information"},
                {"type": "separator"},
                {"title": "공간 만들기", "tag": "working", "link": "#void"},
                {"type": "separator", "visible": false},
                {"title": "404", "tag": "test", "link": "#404", "visible": false},
                {"title": "시험의 내면의 숲으로", "tag": "test", "link": "http://www.ahyane.net/index_20210807.html", "visible": false},
                {"title": "시험의 4차원의 세계로", "tag": "test", "link": "http://www.ahyane.net/map.html", "visible": false},
                {"type": "separator", "visible": false},
                {"title": "사라져가는 평형 세계로", "tag": "relics", "link": "http://www.ahyane.net/4d-world.php", "visible": false}
            ]
        }
    }},
    {"position": {"x":  0, "y":  0, "z":  -1}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.4},
    {"position": {"x":  0, "y":  0, "z":  -2}, "texture": {"left": "blue-left", "right": "blue-right"}, "alpha": 0.2}
]}
